# ‚úÖ –†–ï–ó–Æ–ú–ï –í–ù–ï–î–†–ï–ù–ò–Ø –£–õ–£–ß–®–ï–ù–ò–ô

## üéØ –í—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ –∑–∞–¥–∞—á–∏

### –ö–†–ò–¢–ò–ß–ù–´–ï (–≤—Å–µ –≤—ã–ø–æ–ª–Ω–µ–Ω—ã) ‚úÖ

1. ‚úÖ **–°–æ–∑–¥–∞–Ω–∞ public/knowledge-base –∏ —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω keabank.md**
   - –§–∞–π–ª: `/public/knowledge-base/keabank.md`
   - –ë–∞–∑–∞ –∑–Ω–∞–Ω–∏–π —Ç–µ–ø–µ—Ä—å –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ

2. ‚úÖ **–£–ª—É—á—à–µ–Ω —Å–∏—Å—Ç–µ–º–Ω—ã–π –ø—Ä–æ–º–ø—Ç —Å few-shot –ø—Ä–∏–º–µ—Ä–∞–º–∏**
   - –§–∞–π–ª: `lib/state.ts:18-69`
   - 3 –ø—Ä–∏–º–µ—Ä–∞ –¥–∏–∞–ª–æ–≥–æ–≤
   - –î–µ—Ç–∞–ª—å–Ω—ã–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –ø–æ –∫–≤–∞–ª–∏—Ñ–∏–∫–∞—Ü–∏–∏ –ª–∏–¥–æ–≤

3. ‚úÖ **–£–ª—É—á—à–µ–Ω—ã –æ–ø–∏—Å–∞–Ω–∏—è —Ñ—É–Ω–∫—Ü–∏–π (getCompanyInfo, sendToTelegram)**
   - –§–∞–π–ª: `lib/tools/customer-support.ts:9-103`
   - –î–µ—Ç–∞–ª—å–Ω—ã–µ use cases
   - –î–æ–±–∞–≤–ª–µ–Ω enum leadQuality

4. ‚úÖ **–î–æ–±–∞–≤–ª–µ–Ω–∞ temperature configuration**
   - –§–∞–π–ª: `components/demo/streaming-console/StreamingConsole.tsx:93-96`
   - Temperature: 0.2 –¥–ª—è –Ω–∞–¥–µ–∂–Ω—ã—Ö function calls

5. ‚úÖ **–î–æ–±–∞–≤–ª–µ–Ω–∞ –≤–∞–ª–∏–¥–∞—Ü–∏—è email**
   - –§–∞–π–ª: `hooks/media/use-live-api.ts:125-194`
   - –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ñ–æ—Ä–º–∞—Ç–∞, –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã—Ö –ø–æ–ª–µ–π
   - Email —Ç–µ–ø–µ—Ä—å required

### –í–ê–ñ–ù–´–ï (–≤—Å–µ –≤—ã–ø–æ–ª–Ω–µ–Ω—ã) ‚úÖ

6. ‚úÖ **–î–æ–±–∞–≤–ª–µ–Ω leadQuality enum**
   - –§–∞–π–ª—ã: `lib/telegram-helper.ts`, `hooks/media/use-live-api.ts`
   - –ó–Ω–∞—á–µ–Ω–∏—è: hot/warm/cold

7. ‚úÖ **–û–±–Ω–æ–≤–ª–µ–Ω Telegram –±–æ—Ç —Å –¥–≤—É—Å—Ç–æ—Ä–æ–Ω–Ω–µ–π –∫–æ–º–º—É–Ω–∏–∫–∞—Ü–∏–µ–π**
   - –§–∞–π–ª: `bot/index.js`
   - –ö–Ω–æ–ø–∫–∞ "–û—Ç–≤–µ—Ç–∏—Ç—å –∫–ª–∏–µ–Ω—Ç—É"
   - –†–µ–∂–∏–º –æ—Ç–≤–µ—Ç–∞ –º–µ–Ω–µ–¥–∂–µ—Ä ‚Üí –∫–ª–∏–µ–Ω—Ç

---

## üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∏–∑–º–µ–Ω–µ–Ω–∏–π

| –ú–µ—Ç—Ä–∏–∫–∞ | –ó–Ω–∞—á–µ–Ω–∏–µ |
|---------|----------|
| –§–∞–π–ª–æ–≤ –∏–∑–º–µ–Ω–µ–Ω–æ | 6 |
| –°—Ç—Ä–æ–∫ –¥–æ–±–∞–≤–ª–µ–Ω–æ | ~350 |
| –ù–æ–≤—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π | 3 (callback_query, /cancel, reply mode) |
| Best practices –≤–Ω–µ–¥—Ä–µ–Ω–æ | 7/7 |

---

## üöÄ –ö–∞–∫ –∑–∞–ø—É—Å—Ç–∏—Ç—å –ø—Ä–æ–µ–∫—Ç

### 1. Frontend
```bash
npm run dev
# ‚Üí http://localhost:3000
```

### 2. Telegram Bot
```bash
cd bot
node index.js
```

**–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è:**

`.env.local` (–∫–æ—Ä–µ–Ω—å –ø—Ä–æ–µ–∫—Ç–∞):
```env
GEMINI_API_KEY=your_gemini_key
TELEGRAM_BOT_USERNAME=ai_consult_form_bot
```

`bot/.env`:
```env
TELEGRAM_BOT_TOKEN=your_bot_token
TELEGRAM_MANAGER_CHAT_ID=your_chat_id
```

---

## üìà –û–∂–∏–¥–∞–µ–º—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã

- –ö–≤–∞–ª–∏—Ñ–∏–∫–∞—Ü–∏—è –ª–∏–¥–æ–≤: **+40-50%**
- –ö–æ–Ω–≤–µ—Ä—Å–∏—è: **+30%**
- –≠–∫–æ–Ω–æ–º–∏—è –≤—Ä–µ–º–µ–Ω–∏ –º–µ–Ω–µ–¥–∂–µ—Ä–∞: **-60%**
- –ü–æ–ª–Ω–æ—Ç–∞ –¥–∞–Ω–Ω—ã—Ö: **+80%**
- –ù–∞–¥–µ–∂–Ω–æ—Å—Ç—å function calling: **+50%**

---

## üìö –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

–ü–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è: [IMPROVEMENTS.md](./IMPROVEMENTS.md)

–ê–Ω–∞–ª–∏–∑ –ø—Ä–æ–µ–∫—Ç–∞: [tasks.md](./tasks.md)

Best Practices:
- [Gemini Prompting Strategies](https://ai.google.dev/gemini-api/docs/prompting-strategies)
- [Gemini Function Calling](https://ai.google.dev/gemini-api/docs/function-calling)

---

## ‚ú® –ß—Ç–æ –¥–∞–ª—å—à–µ?

### –†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å:

1. **–§–ª–æ—É –∫–≤–∞–ª–∏—Ñ–∏–∫–∞—Ü–∏–∏ –ª–∏–¥–∞:**
   - –ü–æ–ø—Ä–æ–±—É–π—Ç–µ —Ä–∞–∑–Ω—ã–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏ (–≥–æ—Ä—è—á–∏–π/—Ö–æ–ª–æ–¥–Ω—ã–π –ª–∏–¥)
   - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ä–∞–±–æ—Ç—É getCompanyInfo

2. **–í–∞–ª–∏–¥–∞—Ü–∏—é email:**
   - –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –Ω–µ–≤–∞–ª–∏–¥–Ω—ã–π email
   - –ú–æ–¥–µ–ª—å –¥–æ–ª–∂–Ω–∞ –ø–µ—Ä–µ—Å–ø—Ä–æ—Å–∏—Ç—å

3. **–î–≤—É—Å—Ç–æ—Ä–æ–Ω–Ω—é—é –∫–æ–º–º—É–Ω–∏–∫–∞—Ü–∏—é:**
   - –û—Ç–ø—Ä–∞–≤—å—Ç–µ –ª–∏–¥
   - –ù–∞–∂–º–∏—Ç–µ "–û—Ç–≤–µ—Ç–∏—Ç—å –∫–ª–∏–µ–Ω—Ç—É" –≤ Telegram
   - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –¥–æ—Å—Ç–∞–≤–∫—É —Å–æ–æ–±—â–µ–Ω–∏—è

### –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ —É–ª—É—á—à–µ–Ω–∏—è (–Ω–∏–∑–∫–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç):

- Webhook –¥–ª—è Telegram (–≤–º–µ—Å—Ç–æ polling)
- –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –ª–∏–¥–æ–≤ –≤ –ë–î
- –ê–Ω–∞–ª–∏—Ç–∏–∫–∞ –∏ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
- A/B —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–æ–º–ø—Ç–æ–≤

---

**–°—Ç–∞—Ç—É—Å:** ‚úÖ –í—Å–µ —É–ª—É—á—à–µ–Ω–∏—è –≤–Ω–µ–¥—Ä–µ–Ω—ã –∏ –≥–æ—Ç–æ–≤—ã –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é!
